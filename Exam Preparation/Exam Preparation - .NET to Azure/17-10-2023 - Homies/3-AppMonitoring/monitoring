# prometheus + blackbox exporter

## run blackbox in docker
#1. Open terminal in: 
C:\Program Files\blackbox_exporter-0.25.0.windows-amd64
#2. in terminal type:
docker run -d -p 9115:9115 quay.io/prometheus/blackbox-exporter
#3.Open terminal on promutius on: 
C:\Program Files\prometheus-2.51.2.windows-amd64
#4. in terminal type:
code .
#5. Drag & Drop the prometheus-exam.yml file and rename if needed after
#6 in prometheus terminal type:      C:\Program Files\prometheus-2.51.2.windows-amd64 
prometheus.exe --config.file prometheus-exam.yml





# Add URL
# copy the file directly to prometheus folder
# run it (it needs a separate terminal instance)
prometheus --config.file prometheus-exam.yml
# or prometheus.exe
# it works on 
localhost:9090







# for alerting create another yml file: alertmanager-exam.yml
# go to https://webhook.site and get your unique url, it will be used in the alertmanager-exam.yml
# from alertmanager folder run (second separate terminal instance)
alertmanager.exe --config.file alertmanager-exam.yml
# this alert manager is working on port 9093
localhost:9093
# create alarm in prometheus in new yml file like alert-rules-exam.yml
# add the prometheus exam file add: (evaluation_interval, rule_files, alerting)

# setup Graphana (need install that works on localhost:3000) and don't stop the running prometheus instance
# add new connection - Prometheus
# add new data source - localhost:9090
# save and test
# new dashboard
# choose Histogram from Visualizations
# metric - probe_http_duration_seconds
# save the dashboard
# the dashboard could be exported to json file. Save it!